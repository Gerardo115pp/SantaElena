<script>
    import { layout_properties } from "@stores/layout";
        
    /*=============================================
    =            Lines generation            =
    =============================================*/
    
    export let line_count = 9;


    /**
     * @type {number} The width of the svg element, by default it is the innerWidth of the window. It's not recommended to change this value.
     */
    export let svg_width = innerWidth;
    export let limit_height = true;
    let svg_height_width_ratio = layout_properties.IS_MOBILE ? 1.9 : 0.3828125 ;
    export let svg_height = svg_width * svg_height_width_ratio;
    svg_height = (svg_height > layout_properties.VIEWPORT_HEIGHT) && limit_height ? layout_properties.VIEWPORT_HEIGHT : svg_height;

    let y_limit_percentage = 0.9738068027210885;
    let y_limit = svg_height * y_limit_percentage;

    /**
     * @type {number} The Spacing between the lines, by default it is 0.022. It's recommended to change values between 0.01 and 0.03 for best results.
     */
    export let step = 0.022;
    let x_step = svg_width * step;
    let y_step = svg_height * step;
    export let x_base = 1500;
    export let y_base = 200;

    console.log(`x_base: ${x_base} | y_base: ${y_base}`)

    /**
        @type {SVGElement}
    */
    let lines_background_element;

    $: if(lines_background_element !== undefined) {
        setParentMinHeight();
    }

    function setParentMinHeight() {
        let parent = lines_background_element.parentElement;

        const jump_limit = 3;
        let jump_count = 0;

        while(parent !== null && parent.style.position !== "relative" && jump_count <= jump_limit) {
            parent = parent.parentElement;
            jump_count++;
        }

        if(parent !== null) {
            parent.style.minHeight = svg_height + 'px';
        }
    }
    
    
    /*=====  End of Lines generation  ======*/
    
    
</script>

<svg bind:this={lines_background_element} style:height={svg_height} style:width={svg_width} class="background-symbols" viewBox="0 0 {svg_width} {svg_height}" fill="none">
    <path class="limit-line" d="M0 {y_limit}H{svg_width}"/>
    <svg class="hr-tag" x="{svg_width * 0.68}" y="{svg_height * 0.9622421768707483}" width="84" height="28" viewBox="0 0 84 28">
        <rect x="0.0939941" y="0.248047" width="83.2602" height="27" fill="#0F0F0F"/>
        <path d="M17.2596 12.1494C17.2596 11.9847 17.327 11.8424 17.4618 11.7227C17.5966 11.6029 17.7313 11.498 17.8661 11.4082C18.0158 11.3184 18.2479 11.1761 18.5624 10.9814C18.8918 10.7868 19.2512 10.5697 19.6405 10.3301C20.0448 10.0755 20.4716 9.81348 20.9208 9.54395C21.37 9.25944 21.7893 8.9974 22.1786 8.75781C22.5829 8.50326 22.9423 8.27865 23.2567 8.08398C23.5861 7.88932 23.8257 7.73958 23.9755 7.63477C24.1552 7.51497 24.3124 7.41016 24.4471 7.32031C24.5819 7.23047 24.7167 7.16309 24.8514 7.11816C24.9862 7.05827 25.1285 7.01335 25.2782 6.9834C25.4429 6.95345 25.6451 6.93848 25.8846 6.93848C25.8846 7.31283 25.7873 7.6123 25.5927 7.83691C25.398 8.06152 25.1509 8.28613 24.8514 8.51074C24.6718 8.63053 24.3423 8.84766 23.8632 9.16211C23.399 9.46159 22.9048 9.78353 22.3807 10.1279C21.8566 10.4574 21.3625 10.7793 20.8983 11.0938C20.4341 11.3932 20.1047 11.5954 19.91 11.7002C19.7004 11.82 19.5956 11.9772 19.5956 12.1719V12.2393C19.5956 12.2542 19.6031 12.2692 19.618 12.2842L25.1434 13.1602C25.1434 13.1901 25.1509 13.2201 25.1659 13.25C25.1659 13.2799 25.1659 13.3099 25.1659 13.3398C25.1809 13.3548 25.1884 13.3698 25.1884 13.3848C25.1884 13.804 24.9787 14.1185 24.5594 14.3281C24.5145 14.3281 24.4172 14.3281 24.2675 14.3281C24.1327 14.3281 23.983 14.3356 23.8182 14.3506C23.6685 14.3506 23.5262 14.3506 23.3915 14.3506C23.2567 14.3506 23.1594 14.3506 23.0995 14.3506C22.9048 14.3506 22.6203 14.3431 22.246 14.3281C21.8866 14.2982 21.4898 14.2533 21.0555 14.1934C20.6213 14.1185 20.1796 14.0286 19.7303 13.9238C19.2811 13.819 18.8693 13.6842 18.495 13.5195C18.1356 13.3548 17.8361 13.1602 17.5966 12.9355C17.3719 12.7109 17.2596 12.4489 17.2596 12.1494Z"/>
        <path d="M34.4198 17.2705C34.0455 17.3304 33.701 17.2705 33.3866 17.0908C33.0871 16.8962 32.8475 16.6491 32.6678 16.3496C32.4882 16.0352 32.3833 15.6982 32.3534 15.3389C32.3234 14.9645 32.3983 14.6276 32.578 14.3281C33.2369 13.4746 33.6861 12.8008 33.9257 12.3066C34.1652 11.7975 34.2476 11.4456 34.1727 11.251C34.1128 11.0413 33.9257 10.959 33.6112 11.0039C33.3117 11.0339 32.9449 11.1686 32.5106 11.4082C32.0764 11.6328 31.6047 11.9323 31.0956 12.3066C30.6014 12.681 30.1372 13.0928 29.703 13.542C29.2688 13.9912 28.8869 14.4629 28.5575 14.957C28.243 15.4362 28.0409 15.9079 27.951 16.3721C27.8013 16.4619 27.674 16.5368 27.5692 16.5967C27.4644 16.6416 27.3446 16.6641 27.2098 16.6641C26.9852 16.6641 26.8505 16.5892 26.8055 16.4395C26.7606 16.2897 26.7382 16.1325 26.7382 15.9678C26.7382 15.5934 26.8505 15.2116 27.0751 14.8223C27.3147 14.418 27.5842 14.0436 27.8837 13.6992C28.1981 13.3398 28.4976 13.0179 28.7821 12.7334C29.0666 12.4339 29.2688 12.1943 29.3885 12.0146C29.7629 11.4007 30.1372 10.7419 30.5116 10.0381C30.8859 9.31934 31.2603 8.5931 31.6346 7.85938C32.009 7.11068 32.3908 6.37695 32.7802 5.6582C33.1844 4.92448 33.6037 4.22819 34.038 3.56934C34.1128 3.44954 34.1727 3.36719 34.2177 3.32227C34.2775 3.27734 34.3599 3.25488 34.4647 3.25488C34.5845 3.25488 34.6744 3.27734 34.7343 3.32227C34.7941 3.36719 34.854 3.44954 34.9139 3.56934C34.9139 3.62923 34.899 3.72656 34.869 3.86133C34.854 3.99609 34.8316 4.14583 34.8016 4.31055C34.7867 4.46029 34.7567 4.60254 34.7118 4.7373C34.6818 4.87207 34.6594 4.96191 34.6444 5.00684C34.5546 5.18652 34.4048 5.50098 34.1952 5.9502C33.9856 6.39941 33.7535 6.87858 33.4989 7.3877C33.2593 7.89681 33.0272 8.39844 32.8026 8.89258C32.578 9.37174 32.4133 9.73112 32.3085 9.9707C32.5331 9.82096 32.7352 9.70866 32.9149 9.63379C33.0946 9.54395 33.2668 9.48405 33.4315 9.4541C33.6112 9.40918 33.7909 9.38672 33.9706 9.38672C34.1652 9.37174 34.3749 9.36426 34.5995 9.36426C35.1385 9.49902 35.4904 9.70117 35.6552 9.9707C35.8348 10.2402 35.8872 10.5547 35.8124 10.9141C35.7525 11.2585 35.6102 11.6403 35.3856 12.0596C35.161 12.4788 34.9214 12.9056 34.6669 13.3398C34.4273 13.7591 34.2102 14.1709 34.0155 14.5752C33.8208 14.9645 33.731 15.3239 33.746 15.6533C33.746 15.7881 33.7759 15.8854 33.8358 15.9453C33.8957 16.0052 33.9706 16.0501 34.0604 16.0801C34.1503 16.11 34.2476 16.125 34.3524 16.125C34.4572 16.125 34.5546 16.125 34.6444 16.125C34.9589 16.125 35.2583 16.0801 35.5428 15.9902C35.8423 15.8854 36.1343 15.7731 36.4188 15.6533C36.7033 15.5335 36.9878 15.4287 37.2723 15.3389C37.5718 15.234 37.8788 15.1816 38.1932 15.1816C38.1932 15.4661 38.051 15.7357 37.7665 15.9902C37.482 16.2448 37.1376 16.4694 36.7333 16.6641C36.344 16.8438 35.9322 16.9935 35.4979 17.1133C35.0637 17.2181 34.7043 17.2705 34.4198 17.2705Z"/>
        <path d="M42.3036 15.5186C42.3036 15.0693 42.3934 14.6576 42.5731 14.2832C42.7678 13.8939 42.9774 13.527 43.202 13.1826C43.4266 12.8382 43.6288 12.4938 43.8085 12.1494C44.0031 11.805 44.1005 11.4382 44.1005 11.0488C44.1005 10.959 44.093 10.8542 44.078 10.7344C44.078 10.5996 44.063 10.4723 44.0331 10.3525C44.0181 10.2327 43.9732 10.1354 43.8983 10.0605C43.8384 9.9707 43.7561 9.92578 43.6512 9.92578C43.6363 9.92578 43.6063 9.93327 43.5614 9.94824C43.5315 9.94824 43.5165 9.95573 43.5165 9.9707C43.3068 10.2552 43.0523 10.5771 42.7528 10.9365C42.4683 11.2809 42.1613 11.6253 41.8319 11.9697C41.5025 12.3141 41.1805 12.6436 40.8661 12.958C40.5516 13.2725 40.2671 13.5345 40.0126 13.7441C39.8329 13.9089 39.5858 14.1335 39.2714 14.418C38.9719 14.7025 38.6649 14.987 38.3505 15.2715C38.051 15.541 37.7815 15.7806 37.5419 15.9902C37.3173 16.1999 37.19 16.3047 37.16 16.3047L36.1268 15.4287C36.2616 15.4287 36.3964 15.3988 36.5311 15.3389C36.6509 15.279 36.7707 15.2116 36.8905 15.1367C37.7889 14.5378 38.5975 13.849 39.3163 13.0703C40.05 12.2917 40.7688 11.4531 41.4725 10.5547C41.5025 10.5098 41.5774 10.3825 41.6971 10.1729C41.8319 9.94824 41.9742 9.70117 42.1239 9.43164C42.2736 9.14714 42.4234 8.87012 42.5731 8.60059C42.7229 8.31608 42.8352 8.09147 42.91 7.92676C42.9999 7.7321 43.0523 7.57487 43.0673 7.45508C43.0972 7.33529 43.1197 7.24544 43.1346 7.18555C43.1646 7.11068 43.2095 7.05827 43.2694 7.02832C43.3293 6.99837 43.4566 6.9834 43.6512 6.9834C43.6812 6.9834 43.7486 6.99089 43.8534 7.00586C43.9732 7.02083 44.0481 7.03581 44.078 7.05078C44.2727 7.45508 44.4449 7.81445 44.5946 8.12891C44.7443 8.44336 44.8716 8.74284 44.9764 9.02734C45.0813 9.29688 45.1561 9.57389 45.201 9.8584C45.2609 10.1429 45.2909 10.4574 45.2909 10.8018C45.0962 11.2959 44.8791 11.805 44.6395 12.3291C44.3999 12.8382 44.1978 13.3249 44.0331 13.7891C43.8684 14.2533 43.7635 14.6725 43.7186 15.0469C43.6887 15.4212 43.771 15.7207 43.9657 15.9453C44.1753 16.1549 44.5197 16.2673 44.9989 16.2822C45.493 16.2972 46.1893 16.1699 47.0878 15.9004C47.3274 16.0202 47.3498 16.1699 47.1552 16.3496C46.9605 16.5143 46.661 16.6715 46.2567 16.8213C45.8674 16.971 45.4331 17.0983 44.954 17.2031C44.4898 17.293 44.1005 17.3154 43.786 17.2705C43.5015 17.2705 43.2619 17.2256 43.0673 17.1357C42.8876 17.0309 42.7378 16.8962 42.618 16.7314C42.5132 16.5667 42.4309 16.3796 42.371 16.1699C42.326 15.9603 42.3036 15.7432 42.3036 15.5186Z"/>
        <path d="M46.2343 16.4844C46.2343 16.2598 46.2567 16.0726 46.3016 15.9229C46.3615 15.7581 46.5412 15.6159 46.8407 15.4961C46.9605 15.2865 47.1477 14.9645 47.4022 14.5303C47.6568 14.0811 47.9413 13.5794 48.2557 13.0254C48.5852 12.4714 48.9296 11.8874 49.2889 11.2734C49.6483 10.6595 49.9927 10.0755 50.3221 9.52148C50.6516 8.96745 50.9436 8.47331 51.1981 8.03906C51.4677 7.58984 51.6698 7.26042 51.8046 7.05078C51.9543 6.79622 52.1639 6.47428 52.4335 6.08496C52.703 5.68066 52.995 5.27637 53.3094 4.87207C53.6239 4.4528 53.9533 4.0485 54.2977 3.65918C54.6421 3.26986 54.9716 2.94792 55.286 2.69336C55.316 2.67839 55.3759 2.66341 55.4657 2.64844C55.5555 2.61849 55.6154 2.60352 55.6454 2.60352C55.6454 2.82812 55.5406 3.15755 55.3309 3.5918C55.1363 4.02604 54.8817 4.5127 54.5673 5.05176C54.2528 5.57585 53.9009 6.12988 53.5116 6.71387C53.1223 7.29785 52.7404 7.86686 52.3661 8.4209C51.9917 8.97493 51.6473 9.49154 51.3329 9.9707C51.0334 10.4499 50.8013 10.8392 50.6366 11.1387C50.4569 11.4531 50.2323 11.8799 49.9628 12.4189C49.7082 12.943 49.4237 13.4896 49.1093 14.0586C48.7948 14.6126 48.4654 15.1592 48.121 15.6982C47.7915 16.2223 47.4621 16.6416 47.1327 16.9561C47.0878 17.001 46.9904 17.0609 46.8407 17.1357C46.691 17.2106 46.6011 17.248 46.5712 17.248C46.4813 17.248 46.4065 17.2181 46.3466 17.1582C46.3016 17.0833 46.2717 17.0085 46.2567 16.9336C46.2417 16.8438 46.2343 16.7614 46.2343 16.6865C46.2343 16.5967 46.2343 16.5293 46.2343 16.4844Z"/>
        <path d="M56.6112 15.2041C56.716 14.9196 56.9032 14.6501 57.1727 14.3955C57.4572 14.141 57.7867 13.9014 58.161 13.6768C58.5503 13.4521 58.9696 13.25 59.4188 13.0703C59.868 12.8906 60.3098 12.7334 60.744 12.5986C61.1783 12.4489 61.59 12.3291 61.9794 12.2393C62.3837 12.1344 62.7206 12.0596 62.9901 12.0146C62.9901 11.9997 62.9901 11.9772 62.9901 11.9473C63.0051 11.9023 63.0126 11.8724 63.0126 11.8574C63.0126 11.6628 62.9003 11.5055 62.6757 11.3857C62.451 11.266 62.2714 11.1836 62.1366 11.1387C61.9419 11.0638 61.5975 10.944 61.1034 10.7793C60.6093 10.6146 60.0777 10.4424 59.5087 10.2627C58.9546 10.068 58.4305 9.88835 57.9364 9.72363C57.4423 9.55892 57.0979 9.44661 56.9032 9.38672C56.6636 9.08724 56.5513 8.83268 56.5663 8.62305C56.5962 8.39844 56.701 8.22624 56.8807 8.10645C57.0604 7.98665 57.285 7.91178 57.5546 7.88184C57.8391 7.85189 58.1161 7.86686 58.3856 7.92676C58.6701 7.97168 58.9172 8.06901 59.1268 8.21875C59.3365 8.36849 59.4712 8.56315 59.5311 8.80273L64.7421 10.8242C65.356 11.0788 65.663 11.4681 65.663 11.9922C65.663 12.2318 65.5806 12.4115 65.4159 12.5312C65.2662 12.651 65.079 12.7334 64.8544 12.7783C64.6298 12.8232 64.3977 12.8532 64.1581 12.8682C63.9335 12.8682 63.7463 12.8682 63.5966 12.8682L57.4872 15.4961C57.4572 15.4961 57.4273 15.5036 57.3973 15.5186C57.3824 15.5186 57.3599 15.5186 57.33 15.5186C57.1952 15.5186 57.0679 15.4961 56.9481 15.4512C56.8433 15.3913 56.731 15.3089 56.6112 15.2041Z"/>
    </svg>
    <!-- dy=29.4, dx=76.8 Limit y, y -> Inf = 715.748 -->
    {#each {length: line_count} as _, h}
        <path d="M0 {y_base - (y_step * h)}L{x_base + (x_step * h)} {y_limit}" stroke="blue" stroke-opacity="0.72"/>
    {/each}
</svg>   

<style>
    svg.background-symbols {
        width: 100%;
        height: 100%;
    }

    svg.background-symbols path {
        stroke: var(--grey-7);
    }

    svg.hr-tag path{
        fill: var(--grey-7);
        stroke: none;
    }
</style>

